<view class="{{['flex_colT flex_items_stretch',buy_show?'overflow_hidden H_100vh':'']}}"><header-top vue-id="7f895daf-1" title="购物车" bind:__l="__l"></header-top><block wx:if="{{dataList.list1.length>0||dataList.list2.length>0}}"><view class="P_2 "><view class="flex_row_between"><view data-event-opts="{{[['tap',[['checkAll']]]]}}" class="flex_rowL" bindtap="__e"><view class="iconfont color_ED2251">{{''+(allCheck?'':'')+''}}</view><view class="PL_2">全选</view></view><view data-event-opts="{{[['tap',[['dialog',['none']]]]]}}" class="PTB_1 PLR_3 textC B_radius_5 B_1_999 fontS_12" bindtap="__e">删除</view></view><view class="color_999 fontS_12">{{'共'+dataList.list1_total_goods_nums+'件商品'}}</view></view></block><block wx:if="{{dataList.list1.length>0}}"><view><block wx:for="{{dataList.list1}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="bg_f7f7f7 MB_2 PT_3 PB_5 PLR_1 "><view class="flex_rowL relative"><view data-event-opts="{{[['tap',[['checkCart',[index,'$0'],[[['dataList.list1','',index]]]]]]]}}" class="iconfont color_ED2251 fontS_22 PR_1" bindtap="__e">{{''+(!item.is_selected?'':'')+''}}</view><view class="MR_2 flex_colC"><image class="WH_24vw B_radius_5 B_2_fff" src="{{item.img}}" mode="aspectFill" data-event-opts="{{[['tap',[['$openPage',[['o',['name','shopGoodInfo'],['query',{good_id:item.goods_id}]]]]]]]}}" bindtap="__e"></image><view class="PTB_1 fontS_14"></view></view><view class="W_65 fontS_12 absolute" style="top:0;right:0;"><view class="flex_row_between"><view class="text_overflow_1 ">{{item.goods_name}}</view></view><view class="PTB_1 color_ED2251 fontS_12 flex_row_between"><view>{{"￥"+item.goods_price}}</view><block wx:if="{{item.total_zms>0}}"><view>{{"购买省:"+item.total_zms}}</view></block><view>{{"X"+item.total_goods_nums}}</view></view><view class="B_1_bbb bg_f2f2f2 P_1 flex_rows_start H_12vw overflow_y"><block wx:for="{{item.attr_str}}" wx:for-item="asset" wx:for-index="index" wx:key="index"><view class=" PT_1 PR_2">{{''+asset+''}}</view></block></view><view class="flex_rowR PR_2"><view data-event-opts="{{[['tap',[['getcartGoodsDetail',['$0'],[[['dataList.list1','',index]]]]]]]}}" class="PTB_1 PLR_2" bindtap="__e">编辑</view></view></view></view></view></block></view></block><block wx:if="{{dataList.list2.length>0}}"><view><view class="fontS_12 P_2 flex_row_between"><view class="color_999 fontS_12 PL_1 PB_1">{{"失效商品共"+dataList.list2_total_goods_nums+"件"}}</view><view data-event-opts="{{[['tap',[['dialog',['lose']]]]]}}" class="PTB_1 PLR_2 textC B_radius_5 B_1_999" bindtap="__e">清除失效商品</view></view><view class="flex_colC"><block wx:for="{{dataList.list2}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="bg_f7f7f7 MB_2  W_95 relative"><view class="absolute WH_100" style="background-color:rgba(0,0,0,0.1);z-index:5;"></view><view class="flex_rowL relative"><view class="iconfont color_ED2251 fontS_22 PR_1"></view><view class="MR_2 flex_colC"><image class="WH_24vw B_radius_5 B_2_fff" src="{{item.img}}" mode></image><view class="PTB_1 fontS_14"></view></view><view class="W_65 fontS_12 absolute" style="top:0;right:0;"><view class="flex_row_between PTB_2"><view class="W_90 text_overflow_1 ">{{item.goods_name}}</view><view>{{"X"+item.total_goods_nums}}</view></view><view class="B_1_bbb bg_f2f2f2 P_1 H_12vw overflow_hidden flex_rows_start"><block wx:for="{{item.attr_str}}" wx:for-item="asset" wx:for-index="index" wx:key="index"><view class=" PT_1 PR_2">{{''+asset+''}}</view></block></view></view></view></view></block></view></view></block><view class="H_14vw"></view><block wx:if="{{dataList.list1.length>0||dataList.list2.length>0}}"><view class="fixed W_100 z_index_1000 bg_fff H_12vw flex_rowL" style="bottom:0;"><view class="flex_rowL flex_grow_1" style="line-height:12vw;">合计：<view class="fontS_16 color_ED2251 PL_2 PR_1">{{'￥'+orderPrice+''}}</view></view><view data-event-opts="{{[['tap',[['submitOrder',['$event']]]]]}}" class="bg_ED2251 textC color_fff fontS_16 W_34vw" style="line-height:12vw;" bindtap="__e">{{'提交订单('+orderNum+')'}}</view></view></block><block wx:if="{{dataList.list1.length==0&&dataList.list2.length==0}}"><view class="flex_colC PT_10"><image class="WH_32vw" src="http://qnyimages.hexieyihao.vip/tab3_image_cart.png" mode></image><view class="MT_5">购物车暂无商品</view><view class="flex_rowC W_100 MT_10"><view data-event-opts="{{[['tap',[['back',['$event']]]]]}}" class="PTB_2 W_40 B_radius_max textC B_1_ED2251 color_ED2251" bindtap="__e">去逛逛</view></view></view></block><block wx:if="{{buy_show}}"><van-popup vue-id="7f895daf-2" show="{{buy_show}}" position="bottom" close-on-click-overlay="{{true}}" z-index="9999" data-event-opts="{{[['^clickOverlay',[['overlayShow']]]]}}" data-com-type="wx" bind:clickOverlay="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="W_100 z_index_1000 overflow_hidden " style="height:120vw;"><view class="flex_row_between BB_1_f2f2f2 PLR_2 relative"><image class="WH_26vw B_radius_5 B_2_fff MR_2" src="{{goodsDetail.img}}" mode></image><view class="W_70"><view class="flex_row_between PB_2"><view class="color_ED2251 font_weight_bold fontS_20">{{"￥"+goodsDetail.spe_price}}</view><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="WH_8vw flex_colC" bindtap="__e"><view class="iconfont fontS_22"></view></view></view><view class="textL text_overflow_1 PB_2">{{''+goodsDetail.goods_name+''}}</view></view></view><view class="PLR_2 overflow_y H_100"><view class="W_100"><view class="PTB_2 textL ">选择颜色和尺码</view><view class="flex_rowL W_100 overflow_x"><block wx:for="{{goodsDetail.goods_attr[0]}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['checkidx',['$0',index],[[['goodsDetail.goods_attr.__$n0','',index]]]]]]]}}" class="{{['PTB_1 PLR_2 MR_2 textC B_radius_5 ',checkIdx==index?'bg_ED2251 color_fff':'color_999 B_1_999']}}" style="white-space:nowrap;" bindtap="__e">{{''+item+''}}</view></block></view><view class="PTB_3"><view class="flex_row_around PTB_1 bg_D0D0D0"><view>尺码</view><view>购买数量</view></view><block wx:if="{{buy_show_attr}}"><view class="bg_eee W_100"><block wx:for="{{attr2}}" wx:for-item="item" wx:for-index="idx" wx:key="idx"><view class="flex_row_around PTB_1"><view>{{item.attr}}</view><van-stepper vue-id="{{('7f895daf-3-'+idx)+','+('7f895daf-2')}}" min="0" value="{{item.selected_nums}}" button-size="24" data-event-opts="{{[['^minus',[['minusItem',['$0'],[[['attr2','',idx]]]]]],['^plus',[['addItem',['$0'],[[['attr2','',idx]]]]]],['^change',[['onChange']]],['^blur',[['inputIdx',['$0'],[[['attr2','',idx]]]]]]]}}" data-com-type="wx" bind:minus="__e" bind:plus="__e" bind:change="__e" bind:blur="__e" bind:__l="__l"></van-stepper></view></block></view></block></view><view class="PTB_2 textL ">选择颜色和尺码</view><view class="W_100 MB_4"><block wx:if="{{selectNums.length>0}}"><view class="PLR_1 B_1_ED2251" style="width:97%;"><block wx:for="{{selectNums}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="color_ED2251 W_100 " style="padding:2rpx 0 2rpx 0;">{{''+item+''}}</view></block></view></block></view></view><view class="color_fff flex_rowC W_100 PTB_3 z_index_1000"><view data-event-opts="{{[['tap',[['editCart']]]]}}" class="PTB_2 W_70 flex_rowC bg_ED2251 B_radius_max" bindtap="__e">确定<block wx:if="{{goodsNum>0}}"><view>{{"("+goodsNum+")"}}</view></block></view></view><view class="H_40vw"></view></view></view></van-popup></block><van-dialog vue-id="7f895daf-4" id="van-dialog" data-com-type="wx" bind:__l="__l"></van-dialog></view>