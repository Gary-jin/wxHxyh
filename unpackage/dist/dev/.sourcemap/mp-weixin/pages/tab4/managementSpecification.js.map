{"version":3,"sources":["uni-app:///main.js","webpack:///E:/和鞋一号/pages/tab4/managementSpecification.vue?a0f9","webpack:///E:/和鞋一号/pages/tab4/managementSpecification.vue?6767","webpack:///E:/和鞋一号/pages/tab4/managementSpecification.vue?a1e2","webpack:///E:/和鞋一号/pages/tab4/managementSpecification.vue?5752","uni-app:///pages/tab4/managementSpecification.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,gI;AACAA,UAAU,CAACC,gCAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC2E;AACL;;;AAGtE;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,6FAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAA4wB,CAAgB,iyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgIhyB;AACA;;;AAGA,yF;;;;AAIA;AACA,UADA;AAEA,MAFA,kBAEA;AACA;AACA,6BADA;AAEA,oBAFA,EAEA;AACA,iBAHA;AAIA,qBAJA;AAKA,iBALA;AAMA,kBANA;AAOA,yBAPA;AAQA;AACA,kBADA;AAEA,kBAFA,EARA;;AAYA;AACA,sBADA;AAEA,sBAFA;AAGA;AACA,mBADA;AAEA,mBAFA;AAGA,4BAHA;AAIA,iBAJA;AAKA,sBALA,EAHA,EAZA;;;AAuBA;AACA,gBADA;AAEA,0BAFA;AAGA,iBAHA;AAIA,iBAJA;AAKA,eALA,GAvBA;;AA8BA,uBA9BA;AA+BA,gBA/BA;AAgCA,qBAhCA;AAiCA,cAjCA;AAkCA,qBAlCA;;AAoCA,GAvCA;AAwCA,QAxCA,oBAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GA/DA;AAgEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qDAHA,CAGA;AACA,mDAJA,CAIA;AACA;AACA;AACA,KAZA;AAaA;AACA;AACA;AACA,KAhBA;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBADA;AAEA,sBAFA;;AAIA,KAjCA;AAkCA;AACA,QAnCA,kBAmCA;AACA;AACA;AACA,yBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA,MAMA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,mCADA;AAEA,yBAFA;;AAIA;AACA,qBADA;AAEA,oBAFA;AAGA,sBAHA;;AAKA;AACA;AACA,kBADA;;AAGA;AACA,OALA,EAKA,IALA;AAMA,KArFA;AAsFA,aAtFA,uBAsFA;AACA;AACA,KAxFA;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAtGA;AAuGA;AACA;AACA;AACA;AACA,KA3GA;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArHA;AAsHA;AACA;AACA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;;AAEA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,uBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA,KA5IA;AA6IA;AACA;AACA,kBADA;AAEA,WAFA;AAGA,2BAHA;AAIA,8BAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KA9JA;AA+JA,cA/JA,sBA+JA,GA/JA,EA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzKA;AA0KA,YA1KA,oBA0KA,IA1KA,EA0KA;AACA;AACA;AACA,qBADA,EACA;AACA;AACA,2BAHA;AAIA,yBAJA,EAIA;AACA,qCALA;;AAOA,KAnLA;AAoLA,aApLA,qBAoLA,IApLA,EAoLA,KApLA,EAoLA;AACA;AACA;AACA,gBADA,EACA;AACA,4CAFA,EAEA;AACA,6BAHA,EAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA,eATA;AAUA;AACA,WAdA;AAeA,SAtBA;;;AAyBA;AACA,KAhNA;AAiNA,YAjNA,oBAiNA,IAjNA,EAiNA,KAjNA,EAiNA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KAxNA;AAyNA,UAzNA,kBAyNA,KAzNA,EAyNA;AACA;AACA;AACA,KA5NA;AA6NA,gBA7NA,wBA6NA,IA7NA,EA6NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA3OA,EAhEA;;;AA8SA;AACA;AACA;AACA;AACA,0DAFA,CAEA;AACA,mDAHA,CAGA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AATA,iCAUA,CAVA;AAWA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA,SAFA,EAfA,EAUA;AAQA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,yBAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,yBADA;AAEA,wBAFA;;AAIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA;AACA,KAnDA,EA9SA;;AAmWA;AACA,wBADA,EAnWA,E","file":"pages/tab4/managementSpecification.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tab4/managementSpecification.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./managementSpecification.vue?vue&type=template&id=34c679a9&\"\nvar renderjs\nimport script from \"./managementSpecification.vue?vue&type=script&lang=js&\"\nexport * from \"./managementSpecification.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab4/managementSpecification.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementSpecification.vue?vue&type=template&id=34c679a9&\"","var components = {\n  headerTop: function() {\n    return import(\n      /* webpackChunkName: \"components/headerTop/headerTop\" */ \"@/components/headerTop/headerTop.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.hintShow = !_vm.hintShow\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementSpecification.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementSpecification.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex_colT flex_items_stretch\">\r\n\t\t<headerTop title=\"商品规格\" showBack=\"true\"></headerTop>\r\n\t\t<view class=\"H_100 flex_grow_1\">\r\n\t\t\t<view class=\"W_100 P_4 BB_15_f2f2f2\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<view class=\"PB_1 flex_rowL\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"属性\" v-model=\"kinds[0]\" />\r\n\t\t\t\t\t\t<!-- <view class=\"color_red\">如：颜色</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"PT_1 textC flex_rows_start\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw textC bg_f2f2f2 PTB_1 MR_2 MT_2\" v-for=\"(one,index) in attrObj.oneArr\" :key=\"index\"\r\n\t\t\t\t\t\t v-model=\"attrObj.oneArr[index]\" @blur=\"inputState('oneArr',index,attrObj.oneArr[index])\">\r\n\t\t\t\t\t\t<view class=\"PT_2 flex_rowL\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"自定义\" v-model=\"tempObj.oneTempStr\"\r\n\t\t\t\t\t\t\t @blur=\"pushArr('oneArr','oneTempStr')\" />\r\n\t\t\t\t\t\t\t<view class=\"color_red\">如：黑色</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"MT_3\">\r\n\t\t\t\t\t<view class=\"PB_1 flex_rowL\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"属性\" v-model=\"kinds[1]\" />\r\n\t\t\t\t\t\t<!-- <view class=\"color_red\">如：尺码</view> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"PT_1 textC flex_rows_start\">\r\n\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw textC bg_f2f2f2 PTB_1 MR_2 MT_2\" v-for=\"(two,index) in attrObj.twoArr\" :key=\"index\"\r\n\t\t\t\t\t\t v-model=\"attrObj.twoArr[index]\" @blur=\"inputState('twoArr',index,attrObj.twoArr[index])\">\r\n\t\t\t\t\t\t<view class=\"PT_2 flex_rowL\">\r\n\t\t\t\t\t\t\t<input type=\"text\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"自定义\" v-model=\"tempObj.twoTempStr\"\r\n\t\t\t\t\t\t\t @blur=\"pushArr('twoArr','twoTempStr')\" />\r\n\t\t\t\t\t\t\t<view class=\"color_red\">如：XL</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"PTB_3\">\r\n\t\t\t\t<view class=\"flex_rowL BB_1_f2f2f2 PTB_2\">\r\n\t\t\t\t\t<view class=\"PLR_4\">价格/库存</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view v-show=\"tempObj.obj.isShow\">\r\n\t\t\t\t<view class=\"PB_2 BB_10_f2f2f2\">\r\n\t\t\t\t\t<view class=\"PLR_4 PB_2 flex_row_between\">\r\n\t\t\t\t\t\t<view class=\" \">批量设定</view>\r\n\t\t\t\t\t\t<view class=\"flex_rowR\">\r\n\t\t\t\t\t\t\t<view @click=\"batchSetting(0)\" class=\"color_fff bg_ED2251 PTB_1 PLR_3 B_radius_5 textC MR_2\">批量输入</view>\r\n\t\t\t\t\t\t\t<button @click.once=\"batchSetting(1)\" class=\"color_fff fontS_14 lineH_2 bg_ED2251 PTB_1 PLR_3 B_radius_5 textC\" :disabled=\"disabled\">保存</button>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"PLR_4 flex_row_between relative\">\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t<view class=\"flex_rowL\">\r\n\t\t\t\t\t\t\t\t<input class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"出厂价\" v-model=\"tempObj.obj.original_price\" type=\"number\" />\r\n\t\t\t\t\t\t\t\t<input class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"输入价格\" v-model=\"tempObj.obj.price\" type=\"number\" />\r\n\t\t\t\t\t\t\t\t<input class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"输入库存\" v-model=\"tempObj.obj.count\" type=\"number\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"MT_2\" @click=\"getIdx(index)\">\r\n\t\t\t\t\t\t\t\t<view class=\"WH_26vw flex_colC bg_f2f2f2\" v-show=\"!tempObj.obj.img\" @click=\"afterRead('all',-1)\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"fontS_18 color_ED2251\">\r\n\t\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"WH_26vw relative\" v-show=\"tempObj.obj.img\">\r\n\t\t\t\t\t\t\t\t\t<image class=\"WH_100\" :src=\"tempObj.obj.img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t\t<view class=\"iconfont fontS_16 absolute color_999\" @click=\"delImage('all',-1)\" style=\"top: 5%;right: 5%;\">\r\n\t\t\t\t\t\t\t\t\t\t&#xe628;\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"fontS_12 color_ED2251 bg_f2f2f2 P_1 textC\" v-show=\"hintShow\">\r\n\t\t\t\t\t\t\t提示：批量设定可为商品添加统一的规格图片、库存、价格，也可以单独为某一商品规格添加图片、库存、价格。\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"iconfont fontS_20 absolute\" @click=\"hintShow = !hintShow\" style=\"top: 2%;right: 5%;\">\r\n\t\t\t\t\t\t\t&#xe64e;\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t<view class=\"PLR_4 PTB_1 flex_row_between\">\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t单一设定\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<button class=\"color_fff fontS_14 lineH_2 bg_ED2251 PTB_1 PLR_3 B_radius_5 textC\" :disabled=\"disabled\" @click.once=\"open\">\r\n\t\t\t\t\t\t\t保存\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"PLR_4 BT_5_f2f2f2\" v-for=\"(item,index) in fnAllArr\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"flex_rowL PB_2\">\r\n\t\t\t\t\t\t\t<view class=\"flex_col_between\">\r\n\t\t\t\t\t\t\t\t<view class=\"PB_5\">\r\n\t\t\t\t\t\t\t\t\t{{item[0]}} / {{item[1]}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"flex_rowL MT_2\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"出厂价\" v-model=\"allArr[index][2]\"\r\n\t\t\t\t\t\t\t\t\t @blur=\"inputState2(index,2,allArr[index][2])\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"输入价格\" v-model=\"allArr[index][3]\"\r\n\t\t\t\t\t\t\t\t\t @blur=\"inputState2(index,3,allArr[index][3])\">\r\n\t\t\t\t\t\t\t\t\t<input type=\"number\" class=\"W_20vw PTB_1 textC bg_f2f2f2 MR_2\" placeholder=\"输入库存\" v-model=\"allArr[index][4]\"\r\n\t\t\t\t\t\t\t\t\t @blur=\"inputState2(index,4,allArr[index][4])\">\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"MB_2\" @click=\"getIdx(index)\">\r\n\t\t\t\t\t\t\t<view class=\"WH_26vw flex_colC bg_f2f2f2 \" v-show=\"!allArr[index][4]\" @click=\"afterRead('once',index)\">\r\n\t\t\t\t\t\t\t\t<view class=\"fontS_18 color_ED2251\">\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"WH_26vw relative\" v-show=\"allArr[index][5]\">\r\n\t\t\t\t\t\t\t\t<image class=\"WH_100\" :src=\"allArr[index][5]\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont fontS_16 absolute color_999\" @click=\"delImage('once',index)\" style=\"top: 5%;right: 5%;\">\r\n\t\t\t\t\t\t\t\t\t&#xe628;\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport headerTop from '../../components/headerTop/headerTop.vue';\r\n\timport api from '../../static/script/ajax.js';\r\n\timport {\r\n\t\tgetQNYtoken\r\n\t} from '../../static/script/const.js';\r\n\timport {\r\n\t\tinit,\r\n\t\tupload\r\n\t} from '../../static/script/qiniuUploader.js';\r\n\texport default {\r\n\t\tname: \"\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttopBarTextColor: \"dark\",\r\n\t\t\t\tisEditor: true, //是否可编辑\r\n\t\t\t\tlock: false,\r\n\t\t\t\tattrTempStr: '',\r\n\t\t\t\tloadArr: [],\r\n\t\t\t\tloadArr2: [],\r\n\t\t\t\tkinds: ['颜色', '尺码'],\r\n\t\t\t\tattrObj: {\r\n\t\t\t\t\toneArr: [],\r\n\t\t\t\t\ttwoArr: []\r\n\t\t\t\t},\r\n\t\t\t\ttempObj: {\r\n\t\t\t\t\toneTempStr: '',\r\n\t\t\t\t\ttwoTempStr: '',\r\n\t\t\t\t\tobj: {\r\n\t\t\t\t\t\tprice: '',\r\n\t\t\t\t\t\tcount: '',\r\n\t\t\t\t\t\toriginal_price:'',\r\n\t\t\t\t\t\timg: '',\r\n\t\t\t\t\t\tisShow: true\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tallArr: [{\r\n\t\t\t\t\tattr: [],\r\n\t\t\t\t\toriginal_price:'',\r\n\t\t\t\t\tprice: '',\r\n\t\t\t\t\tcount: '',\r\n\t\t\t\t\timg: []\r\n\t\t\t\t}],\r\n\t\t\t\tspecification: [],\r\n\t\t\t\timgIdx: -1,\r\n\t\t\t\thintShow: false,\r\n\t\t\t\ttype:'',\r\n\t\t\t\tdisabled:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.type = that.$parseURL().type;\r\n\t\t\tconsole.log(that.type);\r\n\t\t\tif(that.type == 'add'){\r\n\t\t\t\tthat.tempObj.obj.count = 9999;\r\n\t\t\t}\r\n\t\t\tif (that.$parseURL().obj) {\r\n\t\t\t\tlet arr = [];\r\n\t\t\t\tarr = that.$parseURL().obj;\r\n\t\t\t\tif(arr.length > 0){\r\n\t\t\t\t\tarr.forEach((item) => {\r\n\t\t\t\t\t\tthat.attrObj.oneArr = that.listunique(that.attrObj.oneArr.concat(item.attr[0]));\r\n\t\t\t\t\t\tthat.attrObj.twoArr = that.listunique(that.attrObj.twoArr.concat(item.attr[1]));\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif(arr[0].price || arr[0].count || arr[0].img || arr[0].ex_price){\r\n\t\t\t\t\t\tthat.tempObj.obj.price = arr[0].price;\r\n\t\t\t\t\t\tthat.tempObj.obj.count = arr[0].count;\r\n\t\t\t\t\t\tthat.tempObj.obj.img = arr[0].img;\r\n\t\t\t\t\t\tthat.tempObj.obj.original_price = arr[0].ex_price;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\r\n\t\t\t//如果有传过来的数据加载数据\r\n\t\t\tloadData: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (this.$parseURL().field.length) {\r\n\t\t\t\t\t// console.log('$api.jsonToStr(that.allArr)=====================================');\r\n\t\t\t\t\tthat.allArr = this.$parseURL().field;\r\n\t\t\t\t\tthat.kinds = that.getAttrKey(that.allArr)[0]; //截取属性key值 颜色 大小\r\n\t\t\t\t\tthat.attrObj = that.concatArr(that.allArr); //过滤重复属性val值 红色 XL\r\n\t\t\t\t}\r\n\t\t\t\t// that.isEditor = api.pageParam.isEditor; //是否可编辑\r\n\t\t\t},\r\n\t\t\t// 获取属性key值\r\n\t\t\tgetAttrKey: function(arr) {\r\n\t\t\t\treturn arr.splice(arr.length - 1, 1);\r\n\t\t\t},\r\n\t\t\t//过滤重复属性val值\r\n\t\t\tconcatArr: function(arr) {\r\n\t\t\t\tlet oneArr = [];\r\n\t\t\t\tlet twoArr = [];\r\n\t\t\t\tfor (let i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tif (oneArr.indexOf(arr[i][0]) == -1) {\r\n\t\t\t\t\t\toneArr.push(arr[i][0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (twoArr.indexOf(arr[i][1]) == -1) {\r\n\t\t\t\t\t\ttwoArr.push(arr[i][1]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\toneArr: oneArr,\r\n\t\t\t\t\ttwoArr: twoArr\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//点击确定时将数据保存传出\r\n\t\t\topen() {\r\n\t\t\t\tif (!this.kinds[0] || !this.kinds[1]) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '属性不能为空',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.disabled = true;\r\n\t\t\t\tfor (let i = 0; i < that.allArr.length; i++) {\r\n\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\tobj.attr = [];\r\n\t\t\t\t\tconsole.log(that.allArr[i]);\r\n\t\t\t\t\tobj.attr[0] = that.allArr[i][0];\r\n\t\t\t\t\tobj.attr[1] = that.allArr[i][1];\r\n\t\t\t\t\tobj.ex_price = that.allArr[i][2]\r\n\t\t\t\t\tobj.price = that.allArr[i][3];\r\n\t\t\t\t\tif(that.type == 'add'){\r\n\t\t\t\t\t\tif(!that.allArr[i][4]){\r\n\t\t\t\t\t\t\tobj.count = 9999;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj.count = that.allArr[i][4];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tobj.count = that.allArr[i][4];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(that.allArr[i][4])\r\n\t\t\t\t\tobj.img = that.allArr[i][5];\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.specification.push(obj);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(that.specification)\r\n\t\t\t\tuni.$emit('specification', {\r\n\t\t\t\t\tcontent: that.specification,\r\n\t\t\t\t\ttitle: that.kinds\r\n\t\t\t\t})\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '保存成功',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 1000\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\tdelta: 1\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.disabled = false;\r\n\t\t\t\t},1000)\r\n\t\t\t},\r\n\t\t\tcheckShow() {\r\n\t\t\t\tthis.tempObj.obj.isShow = !this.tempObj.obj.isShow;\r\n\t\t\t},\r\n\t\t\t//批量设定\r\n\t\t\tbatchSetting: function(item) {\r\n\t\t\t\tthis.tempObj.obj.isShow = false;\r\n\t\t\t\tthis.tempObj.obj.isShow = true;\r\n\t\t\t\tfor (let i = 0; i < this.allArr.length; i++) {\r\n\t\t\t\t\tthis.allArr[i][2] = this.tempObj.obj.original_price;\r\n\t\t\t\t\tthis.allArr[i][3] = this.tempObj.obj.price;\r\n\t\t\t\t\tthis.allArr[i][4] = this.tempObj.obj.count;\r\n\t\t\t\t\tthis.allArr[i][5] = this.tempObj.obj.img;\r\n\t\t\t\t}\r\n\t\t\t\tif(item == 1){\r\n\t\t\t\t\tthis.open()\r\n\t\t\t\t}\r\n\t\t\t},\t\t\r\n\t\t\t//价格,库存,红包输入框失去焦点\r\n\t\t\tinputState2: function(idx, idx2, val) {\r\n\t\t\t\tthis.allArr[idx][idx2] = val ? val : '0';\r\n\t\t\t\t// console.log(this.allArr);\r\n\t\t\t},\r\n\t\t\t//属性输入框失去焦点\r\n\t\t\tinputState: function(arr, idx, val) {\r\n\t\t\t\tthis.attrObj[arr].splice(idx, 1, val)\r\n\t\t\t\tconsole.log(this.attrObj[arr][idx])\r\n\t\t\t\tif (this.attrObj[arr][idx] == '') {\r\n\t\t\t\t\tconsole.log('down')\r\n\t\t\t\t\tthis.attrObj[arr].splice(idx, 1);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(this.attrObj[arr]);\r\n\t\t\t},\r\n\t\t\t//失去焦点时push数组\r\n\t\t\tpushArr: function(arr, str) {\r\n\t\t\t\tif (!this.tempObj[str]) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '不能为空',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// let index = this.attrObj[arr].findIndex(item=> item == this.tempObj[str]);\r\n\t\t\t\tif (this.attrObj[arr].indexOf(this.tempObj[str]) == -1) {\r\n\t\t\t\t\tthis.attrObj[arr].push(this.tempObj[str]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '命名重复',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.tempObj[str] = '';\r\n\t\t\t},\r\n\t\t\tgrep: function(elems, callback, invert) {\r\n\t\t\t\tvar callbackInverse,\r\n\t\t\t\t\tmatches = [],\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tlength = elems.length,\r\n\t\t\t\t\tcallbackExpect = !invert;\r\n\r\n\t\t\t\t// Go through the array, only saving the items\r\n\t\t\t\t// that pass the validator function\r\n\t\t\t\tfor (; i < length; i++) {\r\n\t\t\t\t\tcallbackInverse = !callback(elems[i], i);\r\n\t\t\t\t\tif (callbackInverse !== callbackExpect) {\r\n\t\t\t\t\t\tmatches.push(elems[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn matches;\r\n\t\t\t},\r\n\t\t\tlistunique(arr) {\r\n\t\t\t\tfor (var i = 0; i < arr.length; i++) {\r\n\t\t\t\t\tfor (var j = i + 1; j < arr.length; j++) {\r\n\t\t\t\t\t\tif (arr[i] == arr[j]) { //第一个等同于第二个，splice方法删除第二个\r\n\t\t\t\t\t\t\tarr.splice(j, 1);\r\n\t\t\t\t\t\t\tj--;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn arr;\r\n\t\t\t},\r\n\t\t\tinitQniu(data) {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tinit({\r\n\t\t\t\t\tregion: 'ECN', // 华南\r\n\t\t\t\t\t// ECN, SCN, NCN, NA, ASG，分别对应七牛的：华东，华南，华北，北美，新加坡 5 个区域\r\n\t\t\t\t\tuptoken: data.token,\r\n\t\t\t\t\tdomain: data.host, // bucket 域名，下载资源时用到。如果设置，会在 success callback 的 res 参数加上可以直接使用的 ImageURL 字段。否则需要自己拼接。\r\n\t\t\t\t\tshouldUseQiniuFileName: false\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tafterRead(type, index) {\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1, //默认9\r\n\t\t\t\t\tsizeType: ['original', 'compressed'], //可以指定是原图还是压缩图，默认二者都有\r\n\t\t\t\t\tsourceType: ['album'], //从相册选择\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(res.tempFilePaths));\r\n\t\t\t\t\t\tlet file = res.tempFilePaths[0]\r\n\t\t\t\t\t\tapi._post(getQNYtoken, {}).then((res) => {\r\n\t\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\t\tthis.initQniu(res.data);\r\n\t\t\t\t\t\t\t\tupload(file, (ret) => {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res.data.host + '/' + ret.key);\r\n\t\t\t\t\t\t\t\t\tlet img = res.data.host + '/' + ret.key;\r\n\t\t\t\t\t\t\t\t\tif (type === 'once') {\r\n\t\t\t\t\t\t\t\t\t\tthis.allArr[index][4] = res.data.host + '/' + ret.key\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(this.allArr[index]);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tthis.tempObj.obj.img = res.data.host + '/' + ret.key;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// console.log(file);\r\n\t\t\t},\r\n\t\t\tdelImage(type, index) {\r\n\t\t\t\tif (type === 'once') {\r\n\t\t\t\t\tthis.allArr[index][4] = ''\r\n\t\t\t\t\tconsole.log(this.allArr[index]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.tempObj.obj.img = '';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetIdx(index) {\r\n\t\t\t\t// console.log(index);\r\n\t\t\t\tthis.imgIdx = index;\r\n\t\t\t},\r\n\t\t\tbeforeDelete(file) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// console.log(JSON.stringify(file.content));\r\n\t\t\t\t// console.log('111')\r\n\t\t\t\tvar book_name = that.fileList;\r\n\t\t\t\tvar i = book_name.indexOf(file.url);\r\n\t\t\t\tbook_name.splice(i, 1);\r\n\t\t\t\tthat.fileList = book_name;\r\n\t\t\t\tthat.file = [];\r\n\t\t\t\tfor (let i in book_name) {\r\n\t\t\t\t\tconsole.log(book_name[i].url);\r\n\t\t\t\t\tthat.file = that.file.concat(book_name[i].url)\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(that.file);\r\n\t\t\t},\r\n\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t//遍历一对多\r\n\t\t\tfnAllArr: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet objj = JSON.parse(JSON.stringify(that.attrObj)) //用来操作的数据\r\n\t\t\t\tlet objj2 = JSON.parse(JSON.stringify(objj)) //保存一份原始数据\r\n\t\t\t\t//剔除没有的val组合\r\n\t\t\t\tthat.allArr = that.grep(that.allArr, function(item) {\r\n\t\t\t\t\treturn !(objj.oneArr.indexOf(item[0]) == -1 || objj.twoArr.indexOf(item[1]) == -1);\r\n\t\t\t\t});\r\n\t\t\t\t// console.log($api.jsonToStr(this.allArr));\r\n\t\t\t\t//挑选出新加入的属性val\r\n\t\t\t\tfor (let k = 0; k < that.allArr.length; k++) {\r\n\t\t\t\t\tlet tempArr = that.allArr[k];\r\n\t\t\t\t\tobjj.oneArr = that.grep(objj.oneArr, function(item) {\r\n\t\t\t\t\t\treturn !(tempArr.indexOf(item) != -1);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tobjj.twoArr = that.grep(objj.twoArr, function(item) {\r\n\t\t\t\t\t\treturn !(tempArr.indexOf(item) != -1);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//进行遍历 oneArr\r\n\t\t\t\tfor (let b = 0; b < objj.oneArr.length; b++) {\r\n\t\t\t\t\tfor (let j = 0; j < objj2.twoArr.length; j++) {\r\n\t\t\t\t\t\tthat.allArr.push([\r\n\t\t\t\t\t\t\tobjj.oneArr[b],\r\n\t\t\t\t\t\t\tobjj2.twoArr[j]\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t//进行遍历 twoArr\r\n\t\t\t\tfor (let c = 0; c < objj2.oneArr.length; c++) {\r\n\t\t\t\t\tfor (let d = 0; d < objj.twoArr.length; d++) {\r\n\t\t\t\t\t\tthat.allArr.push([\r\n\t\t\t\t\t\t\tobjj2.oneArr[c],\r\n\t\t\t\t\t\t\tobjj.twoArr[d]\r\n\t\t\t\t\t\t]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction dedup(arr) { //复杂数组去重的方法\r\n\t\t\t\t\tlet hashTable = {};\r\n\t\t\t\t\treturn arr.filter(function(el) {\r\n\t\t\t\t\t\tlet key = JSON.stringify(el);\r\n\t\t\t\t\t\tlet match = Boolean(hashTable[key]);\r\n\t\t\t\t\t\treturn (match ? false : hashTable[key] = true);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tthat.allArr = dedup(that.allArr);\r\n\t\t\t\tconsole.log(JSON.stringify(that.allArr));\r\n\t\t\t\treturn that.allArr;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\theaderTop,\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>\n"],"sourceRoot":""}