{"version":3,"sources":["uni-app:///main.js","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?e485","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?f036","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?4178","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?8c3b","uni-app:///pages/tab4/managementAddgoodimg.vue","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?936b","webpack:///E:/和鞋一号/pages/tab4/managementAddgoodimg.vue?b174"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,0H;AACAA,UAAU,CAACC,6BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AACwE;AACL;AACa;;;AAGhF;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,0FAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAywB,CAAgB,8xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuB7xB;AACA;;;;AAIA;;;AAGA,yF;;;;AAIA;AACA,MADA,kBACA;AACA;AACA,kBADA;AAEA,cAFA;AAGA,qBAHA;AAIA,cAJA;AAKA,oBALA;AAMA,cANA;AAOA,eAPA;AAQA,iBARA;;;AAWA,GAbA;AAcA,QAdA,oBAcA;AACA;AACA;AACA;AACA;AACA;AACA,KAFA,MAEA;AACA;AACA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBADA;;AAGA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OATA;;AAWA;AACA,GAvCA;AAwCA;AACA,YADA,oBACA,IADA,EACA;AACA;AACA,qBADA,EACA;AACA;AACA,2BAHA;AAIA,yBAJA,EAIA;AACA,qCALA;;AAOA,KATA;AAUA,aAVA,qBAUA,CAVA,EAUA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA,OALA,MAKA;AACA;AACA;AACA;AACA,0BADA;;AAGA;AACA,SALA;AAMA,OARA,MAQA;AACA;AACA;AACA;AACA,KA7BA;AA8BA,aA9BA,qBA8BA,IA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA;AACA,gDADA;;AAGA;AACA,WALA;AAMA;AACA,OAVA;AAWA,KA1CA;AA2CA,gBA3CA,wBA2CA,IA3CA,EA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,KA3DA;AA4DA,cA5DA,wBA4DA;AACA;AACA;AACA;AACA,yBADA;;;AAIA,OALA,MAKA;AACA;AACA;AACA,gCADA;;AAGA,OALA,MAKA;AACA;AACA,4BADA;;AAGA;AACA;AACA,gBADA;;AAGA,KAhFA,EAxCA;;AA0HA;AACA,wBADA,EA1HA,E;;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAylC,CAAgB,mlCAAG,EAAC,C;;;;;;;;;;;ACA7mC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/tab4/managementAddgoodimg.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tab4/managementAddgoodimg.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./managementAddgoodimg.vue?vue&type=template&id=91381522&\"\nvar renderjs\nimport script from \"./managementAddgoodimg.vue?vue&type=script&lang=js&\"\nexport * from \"./managementAddgoodimg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./managementAddgoodimg.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab4/managementAddgoodimg.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementAddgoodimg.vue?vue&type=template&id=91381522&\"","var components = {\n  headerTop: function() {\n    return import(\n      /* webpackChunkName: \"components/headerTop/headerTop\" */ \"@/components/headerTop/headerTop.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementAddgoodimg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementAddgoodimg.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex_colT flex_items_stretch\">\r\n\t\t<headerTop :title=\"title\" showBack=\"true\"></headerTop>\r\n\t\t<view class=\"PT_5 PLR_3 flex_rows_start\" v-if=\"type == 'images' || type == 'banner'\">\r\n\t\t\t<van-uploader style=\"width: 100%;\" :file-list=\"fileList\" multiple=\"true\" :max-count=\"maxLength\" @delete=\"beforeDelete\"\r\n\t\t\t @after-read=\"afterRead\" />\r\n\t\t</view>\r\n\t\t<view class=\"PT_5 PLR_3\" v-else>\r\n\t\t\t<view class=\"PT_5\">\r\n\t\t\t\t<van-uploader style=\"width: 100%;\" accept=\"video\" :file-list=\"fileList\" multiple=\"true\" max-count=\"1\" @delete=\"beforeDelete\"\r\n\t\t\t\t @after-read=\"afterRead\" />\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"fixed W_100 flex_rowR\" style=\"bottom: 0;\" @click=\"submitEdit\">\r\n\t\t\t<view class=\"PTB_2 W_100 bg_ED2251 color_fff textC\">\r\n\t\t\t\t完成\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport headerTop from '../../components/headerTop/headerTop.vue';\r\n\timport api from '../../static/script/ajax.js';\r\n\timport {\r\n\t\timageCompress,\r\n\t\timageToBase64\r\n\t} from '../../static/script/minix.js'\r\n\timport {\r\n\t\tgetQNYtoken\r\n\t} from '../../static/script/const.js';\r\n\timport {\r\n\t\tinit,\r\n\t\tupload\r\n\t} from '../../static/script/qiniuUploader.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tfileList: [],\r\n\t\t\t\tfile: [],\r\n\t\t\t\tbanner_file: [],\r\n\t\t\t\ttype: '',\r\n\t\t\t\tmaxLength: 999,\r\n\t\t\t\tlink: '',\r\n\t\t\t\ttitle: '',\r\n\t\t\t\timgList: []\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.fileList = [];\r\n\t\t\tthis.file = [];\r\n\t\t\tthis.type = this.$parseURL().type;\r\n\t\t\tif (this.type == 'images') {\r\n\t\t\t\tthis.title = '商品详情';\r\n\t\t\t} else if (this.type == 'banner') {\r\n\t\t\t\tthis.title = '商品主图';\r\n\t\t\t} else {\r\n\t\t\t\tthis.title = '推荐视频';\r\n\t\t\t}\r\n\t\t\tlet arr = this.$parseURL().data;\r\n\t\t\tif (arr.length > 0) {\r\n\t\t\t\tarr.forEach((item, index) => {\r\n\t\t\t\t\tthis.fileList.push({\r\n\t\t\t\t\t\turl: item\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (this.type === 'banner') {\r\n\t\t\t\t\t\tthis.banner_file.push(arr[index]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.file.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitQniu(data) {\r\n\t\t\t\tinit({\r\n\t\t\t\t\tregion: 'ECN', // 华南\r\n\t\t\t\t\t// ECN, SCN, NCN, NA, ASG，分别对应七牛的：华东，华南，华北，北美，新加坡 5 个区域\r\n\t\t\t\t\tuptoken: data.token,\r\n\t\t\t\t\tdomain: data.host, // bucket 域名，下载资源时用到。如果设置，会在 success callback 的 res 参数加上可以直接使用的 ImageURL 字段。否则需要自己拼接。\r\n\t\t\t\t\tshouldUseQiniuFileName: false\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tafterRead(e) {\r\n\t\t\t\t// console.log(e.detail.file);\r\n\t\t\t\tif (this.type == 'images') {\r\n\t\t\t\t\tlet imgArr = e.detail.file;\r\n\t\t\t\t\timgArr.forEach((item) => {\r\n\t\t\t\t\t\tthis.uploadImg(item.path);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.type == 'banner') {\r\n\t\t\t\t\tlet imgArr = e.detail.file;\r\n\t\t\t\t\timgArr.forEach((item) => {\r\n\t\t\t\t\t\tthis.fileList.push({\r\n\t\t\t\t\t\t\turl: item.path\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.banner_file.push(item.path);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet videoArr = e.detail.file;\r\n\t\t\t\t\tthis.uploadImg(videoArr.path);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuploadImg(file) {\r\n\t\t\t\tapi._post(getQNYtoken, {}).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthis.initQniu(res.data)\r\n\t\t\t\t\t\tupload(file, (ret) => {\r\n\t\t\t\t\t\t\tthis.fileList.push({\r\n\t\t\t\t\t\t\t\turl: res.data.host + '/' + ret.key\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.file.push(res.data.host + '/' + ret.key);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbeforeDelete(file) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tlet idx = file.detail.index;\r\n\t\t\t\tvar book_name = that.fileList;\r\n\t\t\t\tbook_name.splice(idx, 1);\r\n\t\t\t\tthat.fileList = book_name;\r\n\t\t\t\tthat.file = [];\r\n\t\t\t\tif (that.type === 'banner') {\r\n\t\t\t\t\tvar banner = that.banner_file;\r\n\t\t\t\t\tbanner.splice(idx, 1);\r\n\t\t\t\t\tthat.banner_file = banner;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor (let i in book_name) {\r\n\t\t\t\t\t\tthat.file = that.file.concat(book_name[i].url);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsubmitEdit() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (that.type === 'images') {\r\n\t\t\t\t\tuni.$emit('editImages', {\r\n\t\t\t\t\t\timgs: that.file\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t} else if (that.type === 'banner') {\r\n\t\t\t\t\tconsole.log(that.banner_file);\r\n\t\t\t\t\tuni.$emit('editBanner_imgs', {\r\n\t\t\t\t\t\timgs: that.banner_file,\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.$emit('editVideo', {\r\n\t\t\t\t\t\timgs: that.file[0]\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\theaderTop,\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.van-uploader {\r\n\t\tposition: relative;\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.van-uploader__preview {\r\n\t\tmargin: 0 !important;\r\n\t}\r\n\r\n\t.van-uploader__preview {\r\n\t\tposition: relative;\r\n\t\t/* margin: 0 8px 8px 0; */\r\n\t\tcursor: pointer;\r\n\t\twidth: 33%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-bottom: 16upx !important;\r\n\t}\r\n\r\n\t.van-uploader__preview .van-icon-clear {\r\n\t\tfont-size: 6.5vw;\r\n\t}\r\n\r\n\t.van-uploader__upload {\r\n\t\tmargin-left: 16upx !important;\r\n\t\tmargin-bottom: 16upx !important;\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementAddgoodimg.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./managementAddgoodimg.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1607303052908\n      var cssReload = require(\"D:/HBuilderX.2.9.3.20201014.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}