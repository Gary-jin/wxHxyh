{"version":3,"sources":["uni-app:///main.js","webpack:///E:/和鞋一号/pages/tab4/order.vue?c2fb","webpack:///E:/和鞋一号/pages/tab4/order.vue?ff69","webpack:///E:/和鞋一号/pages/tab4/order.vue?4c10","webpack:///E:/和鞋一号/pages/tab4/order.vue?f087","uni-app:///pages/tab4/order.vue"],"names":["createPage","Page"],"mappings":"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BA2IA,EA3IA,EA2IA;;AAEA;AACA;AACA,sBADA;;AAGA;AACA,mBADA;AAEA,sCAFA;AAGA,UAHA,CAGA;AACA;AACA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,WAPA,MAOA;AACA;AACA,4BADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,SAfA;AAgBA,OApBA,EAoBA,KApBA,CAoBA;AACA;AACA,OAtBA;;AAwBA,KAzKA;AA0KA,SA1KA,iBA0KA,IA1KA,EA0KA;AACA;AACA;AACA,uBADA;AAEA,gCAFA;AAGA,8BAHA;AAIA,UAJA,CAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA;AAIA,SANA,MAMA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAtBA;AAuBA,KAnMA;AAoMA,cApMA,sBAoMA,EApMA,EAoMA;AACA;AACA,sBADA;;AAGA;AACA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,SAPA,MAOA;AACA;AACA,0BADA;AAEA,wBAFA;AAGA,0BAHA;;AAKA;AACA,OAfA;AAgBA,KAxNA;AAyNA,YAzNA,oBAyNA,KAzNA,EAyNA;AACA;AACA;AACA;AACA;AACA,KA9NA;AA+NA,aA/NA,uBA+NA;AACA;AACA,KAjOA;AAkOA,YAlOA,oBAkOA,IAlOA,EAkOA,KAlOA,EAkOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA;AAKA;AACA,KA9OA;AA+OA,WA/OA,mBA+OA,IA/OA,EA+OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAvPA;AAwPA,aAxPA,qBAwPA,IAxPA,EAwPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlQA;AAmQA,oBAnQA,4BAmQA,IAnQA,EAmQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KA5RA;AA6RA,wBA7RA,gCA6RA,SA7RA,EA6RA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApSA;AAqSA,sBArSA,8BAqSA,EArSA,EAqSA,KArSA,EAqSA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DADA;AAEA,oCAFA;AAGA,6CAHA;;;AAMA;AACA,aAVA;AAWA;AACA;AACA;AACA;AACA,OApBA;AAqBA,KA/TA;AAgUA,WAhUA,mBAgUA,GAhUA,EAgUA;AACA;AACA,iBADA;AAEA;AACA;AACA;AACA;AACA,uBADA;AAEA,qDAFA;AAGA,cAHA,CAGA;AACA;AACA,WALA;AAMA,SAXA;;AAaA,KA9UA;AA+UA,WA/UA,qBA+UA;AACA;AACA,KAjVA,EAlDA;;AAqYA;AACA,wBADA,EArYA,E","file":"pages/tab4/order.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tab4/order.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order.vue?vue&type=template&id=417f9eb7&\"\nvar renderjs\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab4/order.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=template&id=417f9eb7&\"","var components = {\n  headerTop: function() {\n    return import(\n      /* webpackChunkName: \"components/headerTop/headerTop\" */ \"@/components/headerTop/headerTop.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.buy_show = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./order.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"flex_colT flex_items_stretch bg_f2f2f2\">\r\n\t\t<headerTop :title=\"uid == '' ? '我的订单' : '下级订单'\" showBack=\"true\"></headerTop>\r\n\t\t<view class=\"\">\r\n\t\t\t<view class=\"BB_5_f2f2f2 flex_row_around bg_fff\">\r\n\t\t\t\t<view class=\"PTB_2\" :class=\"checkIdx == 5 ? 'BB_2_F6C658' : ''\" @click=\"checkTab(5)\">\r\n\t\t\t\t\t全部\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"PTB_2\" :class=\"checkIdx == index ? 'BB_2_F6C658' : ''\" v-for=\"(item,index) in tabNav\" :key=\"index\"\r\n\t\t\t\t @click=\"checkTab(index)\">\r\n\t\t\t\t\t{{item}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"PLR_2\">\r\n\t\t\t\t<view class=\"bg_fff B_radius_5 PTB_2 MB_3\" v-for=\"(item,index) in dataList\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"textR color_ED2251 PB_2 PR_2\">\r\n\t\t\t\t\t\t{{item.str}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"\" @click=\"$openPage({name:'orderInfo',query:{oid:item.order_id,gid:item.goods_list[0].goods_id,type:checkIdx,uid:uid}})\">\r\n\t\t\t\t\t\t<view class=\"flex_rowL relative\" v-for=\"(asset,idx) in item.goods_list\" :key=\"idx\">\r\n\t\t\t\t\t\t\t<view class=\"ML_2 flex_colC\">\r\n\t\t\t\t\t\t\t\t<image class=\"WH_24vw B_radius_5 B_2_fff\" :src=\"asset.img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"PTB_1 fontS_14\">\r\n\t\t\t\t\t\t\t\t\t<!-- ￥{{asset.goods_price}} -->\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"W_65 fontS_12 absolute PR_2\" style=\"top: 0;right: 0;\">\r\n\t\t\t\t\t\t\t\t<view class=\"flex_row_between\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"text_overflow_1 \">{{asset.goods_name}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"PTB_1 color_ED2251 fontS_12 flex_row_between\">\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.is_score == 0\">￥{{asset.goods_price}}</view>\r\n\t\t\t\t\t\t\t\t\t<view v-else>{{asset.goods_price}}积分</view>\r\n\t\t\t\t\t\t\t\t\t<view v-if=\"item.is_score == 0\">购买省:{{asset.total_zms}}</view>\r\n\t\t\t\t\t\t\t\t\t<view>{{asset.total_goods_nums}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"B_1_bbb bg_f2f2f2 H_14vw overflow_y PLR_1 flex_rows_start\">\r\n\t\t\t\t\t\t\t\t\t<view class=\" PT_1 PR_2\" v-for=\"(i,index) in asset.attr_list\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t\t{{i}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"textR PTB_2 PR_2\" v-if=\"item.is_score == 0\">\r\n\t\t\t\t\t\t共{{item.total_goods_nums}}件商品 合计：￥{{item.order_price}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex_rowR PR_2\" v-if=\"uid == ''\">\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 B_1_f2f2f2 ML_2\" @click=\"$openPage({name:'orderInfo',query:{oid:item.order_id,gid:item.goods_list[0].goods_id,type:checkIdx,uid:uid}})\">查看详情</view>\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 B_1_f2f2f2 ML_2\" v-show=\"item.status == 3 && item.is_comment == 0\" @click=\"goPl(item)\">点击评价</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 B_1_f2f2f2 ML_2\" v-show=\"item.status == 2 || item.status == 3\" @click=\"copyUrl(item.post_url)\">查看物流</view>\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 bg_ED2251 color_fff ML_2\" v-show=\"item.status == 2\" @click=\"orderAffirm(item.order_id)\">确认收货</view>\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 B_1_f2f2f2 ML_2\" v-show=\"item.status === 0\" @click=\"orderCancelDialog(item.order_id)\">取消订单</view>\r\n\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 textC B_radius_5 bg_ED2251 color_fff ML_2\" v-show=\"item.status === 0\" @click=\"toPay(item)\">去付款</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<van-overlay :show=\"buy_show\">\r\n\t\t\t<view class=\"bg_fff fixed W_100\" style=\"bottom: 0;\">\r\n\t\t\t\t<view class=\"PLR_2\">\r\n\t\t\t\t\t<view class=\"flex_rowC PTB_2 BB_1_f2f2f2\">\r\n\t\t\t\t\t\t<view class=\"textC\">\r\n\t\t\t\t\t\t\t申请退货退款\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"iconfont fontS_24 absolute\" style=\"right: 5%;\" @click=\"buy_show=false\">&#xe6a7;</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"\">\r\n\r\n\t\t\t\t\t\t<view class=\"flex_rowL\">\r\n\t\t\t\t\t\t\t<view class=\"PTB_1 PLR_2 MR_2 textC B_radius_5\" @click=\"checkidx(item,index)\" :class=\"checkAttr == index ? 'bg_ED2251 color_fff':'color_999 B_1_999'\"\r\n\t\t\t\t\t\t\t v-for=\"(item,index) in goodsDetail.list1\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"PTB_3\">\r\n\t\t\t\t\t\t\t<view class=\"flex_row_around PTB_1 bg_D0D0D0\">\r\n\t\t\t\t\t\t\t\t<view>尺码</view>\r\n\t\t\t\t\t\t\t\t<view>可退数量</view>\r\n\t\t\t\t\t\t\t\t<view>本次退款数量</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"H_38vw bg_eee overflow_y\">\r\n\t\t\t\t\t\t\t\t<view class=\"flex_row_around PTB_1\" v-for=\"(item,index) in attr2\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t\t<view>{{item.attr}}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t\t\t{{item.goods_nums}}\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<van-stepper min=\"0\" :value=\"item.selected_nums\" :max=\"item.goods_nums\" :disable-plus=\"addNum\" @minus=\"minusItem(item)\"\r\n\t\t\t\t\t\t\t\t\t @plus=\"addItem(item)\" button-size=\"24\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"PTB_2 textL \">\r\n\t\t\t\t\t\t\t退货说明\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"PLR_1 B_1_999 B_radius_5\">\r\n\t\t\t\t\t\t\t<van-cell-group>\r\n\t\t\t\t\t\t\t\t<van-field :value=\"message\" @input=\"getMessage\" type=\"textarea\" autosize />\r\n\t\t\t\t\t\t\t</van-cell-group>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"PTB_1 textL fontS_12 color_ED2251\" v-show=\"selectNumShow\">\r\n\t\t\t\t\t\t\t！！退货明细\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t<view class=\"color_ED2251 PT_1 W_100 fontS_12\" v-for=\"(item,index) in selectNums\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"color_fff flex_rowC W_80 M_auto PTB_3\">\r\n\t\t\t\t\t\t<view class=\"PTB_2 textC flex_grow_1 bg_ED2251 B_radius_max\" @click=\"salesReturn\">\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</van-overlay>\r\n\t\t<van-dialog id=\"van-dialog\" />\r\n\r\n\t\t<van-dialog use-slot title=\"提示\" :show=\"orderCancelshow\" show-cancel-button confirmButtonText=\"确定取消\" cancelButtonText=\"暂不取消\"\r\n\t\t @confirm=\"orderCancel\" @cancel=\"cancel\">\r\n\t\t\t<view class=\"PTB_3 textC\">\r\n\t\t\t\t确定要取消订单吗？\r\n\t\t\t</view>\r\n\t\t</van-dialog>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport headerTop from '../../components/headerTop/headerTop.vue';\r\n\timport api from '../../static/script/ajax.js';\r\n\timport Dialog from '../../wxcomponents/vant/dist/dialog/dialog.js'\r\n\timport {\r\n\t\torderList,\r\n\t\torderInfo,\r\n\t\tcancelOrder,\r\n\t\taffirmOrder,\r\n\t\trefundOrder,\r\n\t\tcreateOrder,\r\n\t\tgetPaySign,\r\n\t\treturnGoodsInfoOfOrder,\r\n\t\tdelOrder\r\n\t} from '../../static/script/const.js';\r\n\timport {\r\n\t\tpay,\r\n\t\tcheckSpecification,\r\n\t\tunique\r\n\t} from '../../static/script/minix.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabNav: ['待付款', '待发货', '待收货', '已完成', '退货换货'],\r\n\t\t\t\tcheckIdx: -1,\r\n\t\t\t\tcheckAttr: 0,\r\n\t\t\t\tbuy_show: false,\r\n\t\t\t\tshow: false,\r\n\t\t\t\tattr1: ['白色', '黑色', '绿色', '蓝色'],\r\n\t\t\t\tattr2: [],\r\n\t\t\t\tselectNums: [],\r\n\t\t\t\tselectNumShow: false,\r\n\t\t\t\tmessage: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tdataList: [],\r\n\t\t\t\tgoodsDetail: {},\r\n\t\t\t\taddNum: false,\r\n\t\t\t\tgoodsId: '',\r\n\t\t\t\torderId: '',\r\n\t\t\t\tcheckNum: [],\r\n\t\t\t\tremark: '',\r\n\t\t\t\tactive: -1,\r\n\t\t\t\tsteps: [],\r\n\t\t\t\tcopyShow: false,\r\n\t\t\t\torderCancelshow: false,\r\n\t\t\t\torderCancelId: '',\r\n\t\t\t\tuid: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.idx) {\r\n\t\t\t\tthis.checkIdx = options.idx;\r\n\t\t\t} else {\r\n\t\t\t\tthis.checkIdx = this.$parseURL().idx;\r\n\t\t\t}\r\n\t\t\tif (this.$parseURL().uid) {\r\n\t\t\t\tthis.uid = this.$parseURL().uid;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getOrderlist();\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.getOrderlist('more');\r\n\t\t},\r\n\t\tonPullDownRefresh() {\r\n\t\t\tthis.dataList = [];\r\n\t\t\tthis.page = 1;\r\n\t\t\tthis.getOrderlist();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgoPl(item){\r\n\t\t\t\tconsole.log(item.order_id)\r\n\t\t\t\tapi._post(orderInfo, {'order_id':item.order_id}).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tlet xx = res.data.info.goods_list[0];\r\n\t\t\t\t\t\tconsole.log(JSON.stringify(xx))\r\n\t\t\t\t\t\tthis.$openPage({name:'orderEvaluate',query:{oid:item.order_id,goods:xx}})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetMessage(value) {\r\n\t\t\t\tthis.remark = value.detail;\r\n\t\t\t},\r\n\t\t\tgetOrderlist(type) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet param;\r\n\t\t\t\tif (type == 'more') {\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t'other_uid': that.uid,\r\n\t\t\t\t\t\t'type': that.checkIdx,\r\n\t\t\t\t\t\t'page': ++that.page\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t'other_uid': that.uid,\r\n\t\t\t\t\t\t'type': that.checkIdx,\r\n\t\t\t\t\t\t'page': 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tapi._post(orderList, param).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tif (type == 'more') {\r\n\t\t\t\t\t\t\tconsole.log(res.data.list.length)\r\n\t\t\t\t\t\t\tif (res.data.list.length != 0) {\r\n\t\t\t\t\t\t\t\tthat.dataList = that.dataList.concat(res.data.list);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.dataList = res.data.list;\r\n\t\t\t\t\t\t\tconsole.log(JSON.stringify(that.dataList))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (res.data.list.length < 1) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '没有更多了!',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsalesReturn() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (that.checkNum.length < 1) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '您还未选择退款商品!',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'goods_id': that.goodsId,\r\n\t\t\t\t\t'order_id': that.orderId,\r\n\t\t\t\t\t'remark': that.remark,\r\n\t\t\t\t\t'json_str': encodeURIComponent(JSON.stringify(that.checkNum))\r\n\t\t\t\t}\r\n\t\t\t\tapi._post(refundOrder, param).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.buy_show = false;\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.getOrderlist();\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tsalesReturnDetail(oid, goods) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.orderId = oid;\r\n\t\t\t\tthat.goodsId = goods.goods_id;\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'order_id': oid,\r\n\t\t\t\t\t'goods_id': goods.goods_id\r\n\t\t\t\t}\r\n\t\t\t\tapi._post(returnGoodsInfoOfOrder, param).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tthat.buy_show = true;\r\n\t\t\t\t\t\tthat.selectNums = [];\r\n\t\t\t\t\t\tthat.message = '';\r\n\t\t\t\t\t\tthat.goodsDetail = res.data;\r\n\t\t\t\t\t\tthat.attr2 = that.goodsDetail.list2[0].list\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\torderCancelDialog(id) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.orderCancelshow = true;\r\n\t\t\t\tthat.orderCancelId = id;\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.orderCancelshow = false;\r\n\t\t\t},\r\n\t\t\torderCancel(id) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.orderCancelshow = false;\r\n\t\t\t\t// return\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'order_id': that.orderCancelId\r\n\t\t\t\t}\r\n\t\t\t\tapi._post(cancelOrder, param).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.getOrderlist();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\torderAffirm(id) {\r\n\t\t\t\t\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'order_id': id\r\n\t\t\t\t}\r\n\t\t\t\tDialog.confirm({\r\n\t\t\t\t  title: '注意',\r\n\t\t\t\t  message: '确认收货后视为质量、尺码、颜色皆无疑问',\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t    api._post(affirmOrder, param).then((res) => {\r\n\t\t\t\t    \tif (res.code == 0) {\r\n\t\t\t\t    \t\tuni.showToast({\r\n\t\t\t\t    \t\t\ttitle: res.msg,\r\n\t\t\t\t    \t\t\ticon: 'none',\r\n\t\t\t\t    \t\t\tduration: 1500\r\n\t\t\t\t    \t\t});\r\n\t\t\t\t    \t\tthat.getOrderlist();\r\n\t\t\t\t    \t} else {\r\n\t\t\t\t    \t\tuni.showToast({\r\n\t\t\t\t    \t\t\ttitle: res.msg,\r\n\t\t\t\t    \t\t\ticon: 'none',\r\n\t\t\t\t    \t\t\tduration: 1500\r\n\t\t\t\t    \t\t});\r\n\t\t\t\t    \t}\r\n\t\t\t\t    })\r\n\t\t\t\t  }).catch(() => {\r\n\t\t\t\t    // on cancel\r\n\t\t\t\t  });\r\n\r\n\t\t\t},\r\n\t\t\ttoPay(item) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tapi._post(getPaySign, {\r\n\t\t\t\t\t'paySite': 'HX',\r\n\t\t\t\t\t'payType': 'xiaochengxu',\r\n\t\t\t\t\t'payId': item.order_no\r\n\t\t\t\t}).then((ret) => {\r\n\t\t\t\t\tconsole.log(ret.data);\r\n\t\t\t\t\tconsole.log('获取支付签名！！！')\r\n\t\t\t\t\t// console.log(JSON.parse(ret.data.info.pay_sign_str));\r\n\t\t\t\t\tlet obj = JSON.parse(ret.data.info.pay_sign_str)\r\n\t\t\t\t\tif (ret.code == 0) {\r\n\t\t\t\t\t\tpay(obj, 'order');\r\n\t\t\t\t\t\tuni.$on('paySuccess', (data) => {\r\n\t\t\t\t\t\t\tconsole.log('支付成功')\r\n\t\t\t\t\t\t\tthis.getOrderlist();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: ret.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeletOrder(id) {\r\n\t\t\t\tlet param = {\r\n\t\t\t\t\t'order_id': id\r\n\t\t\t\t}\r\n\t\t\t\tapi._post(delOrder, param).then((res) => {\r\n\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.getOrderlist();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckTab(index) {\r\n\t\t\t\tthis.checkIdx = index;\r\n\t\t\t\tthis.dataList = [];\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.getOrderlist();\r\n\t\t\t},\r\n\t\t\tcheckShow() {\r\n\t\t\t\tthis.show = true;\r\n\t\t\t},\r\n\t\t\tcheckidx(item, index) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.checkAttr = index;\r\n\t\t\t\tlet arr = that.goodsDetail.list2;\r\n\t\t\t\tlet arr2 = [];\r\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tarr.forEach((i) => {\r\n\t\t\t\t\tif (i.color === item) {\r\n\t\t\t\t\t\tthat.attr2 = i.list;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tconsole.log(that.attr2);\r\n\t\t\t},\r\n\t\t\taddItem(item) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.selectNumShow = true;\r\n\t\t\t\t++item.selected_nums;\r\n\t\t\t\tconsole.log(item.goods_nums + '------' + item.selected_nums)\r\n\t\t\t\tthat.backGoodsAttrStr(that.goodsDetail.list2);\r\n\t\t\t\tthat.checkNum = [];\r\n\t\t\t\tthat.checkSpecification(that.goodsId, that.goodsDetail.list2);\r\n\t\t\t},\r\n\t\t\tminusItem(item) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t--item.selected_nums;\r\n\t\t\t\tthat.selectNumShow = true;\r\n\t\t\t\tthat.addNum = false;\r\n\t\t\t\tconsole.log(that.goodsDetail.list2)\r\n\t\t\t\tthat.backGoodsAttrStr(that.goodsDetail.list2);\r\n\t\t\t\tthat.checkNum = [];\r\n\t\t\t\tthat.checkSpecification(that.goodsId, that.goodsDetail.list2);\r\n\t\t\t\t// console.log()\r\n\t\t\t},\r\n\t\t\tbackGoodsAttrStr(list) {\r\n\t\t\t\tlet data1 = [];\r\n\t\t\t\tlet num = 0;\r\n\t\t\t\tfor (let item in list) {\r\n\t\t\t\t\tlet demo_obj = list[item];\r\n\t\t\t\t\t// console.log(demo_obj)\r\n\t\t\t\t\t// if (this.getTotalSelectedNums(demo_obj.list)) {\r\n\t\t\t\t\tlet str = demo_obj.color + \": \";\r\n\t\t\t\t\tconsole.log(demo_obj);\r\n\t\t\t\t\tlet arr = demo_obj.list;\r\n\r\n\t\t\t\t\tfor (let it in demo_obj.list) {\r\n\t\t\t\t\t\tlet demo_item = demo_obj.list[it];\r\n\t\t\t\t\t\tnum += Number(demo_item.selected_nums);\r\n\t\t\t\t\t\tthis.goodsNum = num;\r\n\t\t\t\t\t\t// if(demo_item.goods_nums > 0){\r\n\t\t\t\t\t\tstr += demo_item.attr + \"/\" + demo_item.selected_nums + \"件，\";\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(str);\r\n\t\t\t\t\tdata1.push(str);\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t}\r\n\t\t\t\treturn this.selectNums = data1;\r\n\t\t\t},\r\n\t\t\tgetTotalSelectedNums(demo_list) {\r\n\t\t\t\tlet total_nums = 0;\r\n\t\t\t\tfor (let it in demo_list) {\r\n\t\t\t\t\tlet demo_item = demo_list[it];\r\n\t\t\t\t\ttotal_nums += demo_item.selected_nums\r\n\t\t\t\t}\r\n\t\t\t\treturn total_nums;\r\n\t\t\t},\r\n\t\t\tcheckSpecification(id, lists) {\r\n\t\t\t\tlet data = [];\r\n\t\t\t\tlet arr = lists;\r\n\t\t\t\tlet obj = {};\r\n\r\n\t\t\t\tarr.forEach((asset, index) => {\r\n\t\t\t\t\tfor (let ret in asset) {\r\n\t\t\t\t\t\t// console.log(asset[ret])\r\n\t\t\t\t\t\tif (ret == 'list') {\r\n\t\t\t\t\t\t\tlet res = asset[ret];\r\n\t\t\t\t\t\t\tres.forEach((i, idx) => {\r\n\t\t\t\t\t\t\t\t// if (i.goods_nums < i.selected_nums) {\r\n\t\t\t\t\t\t\t\tconsole.log(i.selected_nums)\r\n\t\t\t\t\t\t\t\tthis.checkNum.push({\r\n\t\t\t\t\t\t\t\t\t'order_goods_info_id': i.order_goods_info_id,\r\n\t\t\t\t\t\t\t\t\t'attr_id': i.attr_id,\r\n\t\t\t\t\t\t\t\t\t'goods_nums': i.selected_nums\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t// this.checkNum = this.checkNum.concat(obj)\r\n\t\t\t\t\t\t\t// console.log(this.checkNum)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcopyUrl(url) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: url,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tconsole.log('success');\r\n\t\t\t\t\t\tuni.hideToast();\r\n\t\t\t\t\t\tDialog.alert({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tmessage: '您已复制物流信息链接，在浏览器打开此链接即可查询您的物流信息',\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\t// on close\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.copyShow = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\theaderTop,\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>\r\n"],"sourceRoot":""}