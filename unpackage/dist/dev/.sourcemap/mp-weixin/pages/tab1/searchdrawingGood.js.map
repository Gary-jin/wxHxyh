{"version":3,"sources":["uni-app:///main.js",null,"webpack:///E:/和鞋一号/pages/tab1/searchdrawingGood.vue?da8d","webpack:///E:/和鞋一号/pages/tab1/searchdrawingGood.vue?8566","webpack:///E:/和鞋一号/pages/tab1/searchdrawingGood.vue?48d9","uni-app:///pages/tab1/searchdrawingGood.vue"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,oH;AACAA,UAAU,CAACC,0BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAA8H;AAC9H;AACqE;AACL;;;AAGhE;AACoM;AACpM,gBAAgB,6MAAU;AAC1B,EAAE,uFAAM;AACR,EAAE,4FAAM;AACR,EAAE,qGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,gGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,8LAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAswB,CAAgB,2xBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgK1xB;AACA;AACA;AACA,iH;AACA;AACA,MADA,kBACA;AACA;AACA,uCADA;AAEA,aAFA;AAGA,eAHA;AAIA,aAJA;AAKA,eALA;AAMA,kBANA;AAOA,cAPA;AAQA,iBARA;AASA,uBATA;AAUA,qBAVA;AAWA,qBAXA;AAYA,qBAZA;AAaA,qBAbA;AAcA,qBAdA;AAeA,qBAfA;;AAiBA,sBAjBA,EAiBA;AACA,yBAlBA,EAkBA;AACA,mBAnBA;AAoBA,sBApBA,EAoBA;AACA,mBArBA,EAqBA;AACA,kBAtBA,EAsBA;AACA,kBAvBA,EAuBA;;AAEA,yBAzBA,EAyBA;AACA,sBA1BA,CA0BA;AA1BA;AA4BA,GA9BA;AA+BA,QA/BA,oBA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA,GA/CA;AAgDA,QAhDA,oBAgDA;AACA;AACA,GAlDA;AAmDA,eAnDA,2BAmDA;AACA;AACA,GArDA;AAsDA;AACA,gBADA,wBACA,IADA,EACA;AACA;AACA;AACA,yBADA;AAEA,yBAFA;AAGA,mBAHA;;;AAMA;AACA;AACA;AACA;AACA,6BADA;AAEA,4BAFA;AAGA,kDAHA;AAIA,4CAJA;AAKA,+CALA;;AAOA,OARA,MAQA;AACA;AACA,mBADA;AAEA,4BAFA;AAGA,kDAHA;AAIA,4CAJA;AAKA,+CALA;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eANA;AAOA,aARA;;AAUA,WApBA,MAoBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAFA,MAEA;AACA;AACA;AACA,eANA;AAOA,aARA;;AAUA;AACA;AACA,OA7CA;AA8CA,KA3EA;AA4EA,iBA5EA,yBA4EA,KA5EA,EA4EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAnBA,MAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SARA,MAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzIA;AA0IA,eA1IA,yBA0IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApJA;AAqJA,YArJA,oBAqJA,GArJA,EAqJA;AACA;AACA,KAvJA;;;;;;AA6JA;AACA,eA9JA,yBA8JA;AACA;AACA;AACA;AACA;AACA;AACA,KApKA;AAqKA;AACA,cAtKA,wBAsKA;AACA;AACA,KAxKA;AAyKA;AACA,SA1KA,mBA0KA;AACA;AACA,KA5KA;AA6KA;AACA,UA9KA,kBA8KA,IA9KA,EA8KA,IA9KA,EA8KA,MA9KA,EA8KA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KArLA;AAsLA;AACA,YAvLA,oBAuLA,IAvLA,EAuLA,IAvLA,EAuLA,IAvLA,EAuLA,IAvLA,EAuLA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,KA1MA;AA2MA;AACA,gBA5MA,0BA4MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,SANA;AAOA,OARA;AASA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAnOA;AAoOA;AACA,gBArOA,0BAqOA;AACA;AACA;AACA,KAxOA;AAyOA;AACA,cA1OA,wBA0OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAjPA,EAtDA;;;;;;;AA8SA;AACA,wBADA,EA9SA,E","file":"pages/tab1/searchdrawingGood.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/tab1/searchdrawingGood.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./searchdrawingGood.vue?vue&type=template&id=1b190a0e&\"\nvar renderjs\nimport script from \"./searchdrawingGood.vue?vue&type=script&lang=js&\"\nexport * from \"./searchdrawingGood.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tab1/searchdrawingGood.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchdrawingGood.vue?vue&type=template&id=1b190a0e&\"","var components = {\n  headerTop: function() {\n    return import(\n      /* webpackChunkName: \"components/headerTop/headerTop\" */ \"@/components/headerTop/headerTop.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.dataList && _vm.dataList.length > 0\n      ? _vm.__map(_vm.dataList, function(item, index) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.clearNum(item.spe_price)\n          return {\n            $orig: $orig,\n            m0: m0\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchdrawingGood.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.2.9.3.20201014.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./searchdrawingGood.vue?vue&type=script&lang=js&\"","<template>\r\n\r\n\t<view class=\"flex_colT flex_items_stretch bg_f2f2f2\">\r\n\t\t<template>\r\n\t\t\t<van-toast id=\"van-Toast\" />\r\n\t\t</template>\r\n\t\t<headerTop title=\"【和鞋一号】严选商城\" showBack=\"true\"></headerTop>\r\n\t\t<view class=\"flex_rowC H_10vw bg_ff5126\">\r\n\t\t\t<image class=\"WH_18vw B_radius_5 B_2_fff relative\" style=\"top: 5vw;\" :src=\"img\" mode=\"aspectFit\"></image>\r\n\t\t</view>\r\n\t\t\t<view class=\"PLR_2 MT_6\">\r\n\t\t<view class=\"flex_row_between PTB_2 bg_f2f2f2\">\r\n\t\t\t<view class=\"flex_rowC W_25\" @click=\"filtrateDef()\">\r\n\t\t\t\t<view>综合</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex_rowC W_25\" @click=\"filtrateGoods(1)\">\r\n\t\t\t\t<view>价格</view>\r\n\t\t\t\t<view class=\"flex_colC PL_2\">\r\n\t\t\t\t\t<image class=\"sort_icon\" v-show=\"showIcon1\" style=\"margin-bottom: 4rpx;\" src=\"http://qnyimages.hexieyihao.vip/upRank.png\" mode=\"\"></image>\r\n\t\t\t\t\t<image class=\"sort_icon\" v-show=\"showIcon2\" src=\"http://qnyimages.hexieyihao.vip/downRank.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex_rowC W_25\" @click=\"filtrateGoods(3)\">\r\n\t\t\t\t<view>销量</view>\r\n\t\t\t\t<view class=\"flex_colC PL_2\">\r\n\t\t\t\t\t<image class=\"sort_icon\" v-show=\"showIcon5\" style=\"margin-bottom: 4rpx;\" src=\"http://qnyimages.hexieyihao.vip/upRank.png\" mode=\"\"></image>\r\n\t\t\t\t\t<image class=\"sort_icon\" v-show=\"showIcon6\" src=\"http://qnyimages.hexieyihao.vip/downRank.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex_rowC W_25 B_radius_5\" @click=\"sizer()\" :class=\"sizerShow?'color_DA3B57 B_1_DA3B57':'B_1_000'\">\r\n\t\t\t\t<view>点击筛选</view>\r\n\t\t\t\t<view class=\"flex_colC PL_2\">\r\n\t\t\t\t\t<image v-if=\"sizerShow\" style=\"width:20rpx;height:28rpx\" src=\"https://qnyimages.hexieyihao.vip/sizer1.png\" mode=\"\"></image>\r\n\t\t\t\t\t<image v-else style=\"width:20rpx;height:28rpx\" src=\"https://qnyimages.hexieyihao.vip/sizer2.png\" mode=\"\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\t\t<view class=\"PTB_2 flex_rows_start bg_f2f2f2\" v-if=\"dataList && dataList.length > 0\">\r\n\t\t\t\t\t<view class=\"W_50 flex_colC MB_2\" @click=\"$openPage({name:'shopGoodInfo',query:{good_id: item.goods_id}})\" v-for=\"(item,index) in dataList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"W_44vw bg_fff PB_2\">\r\n\t\t\t\t\t\t\t<view class=\"WH_44vw bg_red_500\">\r\n\t\t\t\t\t\t\t\t<image :src=\"item.img\" class=\"WH_100\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\" flex_row_between PTB_2 PLR_1\">\r\n\t\t\t\t\t\t\t\t<view class=\"B_1_DA3B57 color_DA3B57 PLR_1 fontS_12 B_radius_5\">\r\n\t\t\t\t\t\t\t\t\t{{item.str1}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"text_overflow_1 W_75\">\r\n\t\t\t\t\t\t\t\t\t{{item.goods_name}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"flex_rowL PLR_1\">\r\n\t\t\t\t\t\t\t\t<view class=\"color_DA3B57 font_weight_bold\">￥{{clearNum(item.spe_price)}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"fontS_12 color_999 text_decoration_line-through\">￥{{item.shop_price}}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"fontS_10 color_999 PL_1\">\r\n\t\t\t\t\t\t\t\t\t月销：{{item.sales}}\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"PLR_1 flex_rowL\">\r\n\t\t\t\t\t\t\t\t<view class=\"fontS_12 bg_DA3B57 PLR_1 B_radius_5 flex_rowL color_fff\" style=\"padding-top: 6rpx;padding-bottom: 6rpx;\" v-if=\"item.is_consumer == 0 && item.show_save_price != 0\">\r\n\t\t\t\t\t\t\t\t\t省后：￥ <view class=\"font_weight_bold fontS_14\">{{item.save_price}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"PLR_1 MT_1\">\r\n\t\t\t\t\t\t\t\t<text class=\"B_1_DA3B57 fontS_12 color_DA3B57 PLR_2 B_radius_5\" style=\"padding-top: 4rpx;padding-bottom: 4rpx;\">\r\n\t\t\t\t\t\t\t\t\t{{item.str2}}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"PT_10 W_100 flex_colC fontS_12\" v-if=\"show\">\r\n\t\t\t\t\t<view class=\"color_999\">\r\n\t\t\t\t\t\t没有找到相关商品\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<van-toast id=\"van-toast\" />\r\n\t\t\t</view>\r\n\t\t\r\n\t\t\t\t<!-- 筛选 -->\r\n\t\t<van-popup :show=\"sizerShowPop\" custom-style=\"width: 80%;height:100%\" position=\"right\" z-index=\"9999\" @close=\"closeSizer()\">\r\n\t\t\t\r\n\t\t\t\t<view class=\"PLR_2 H_100 overflow_y\">\r\n\t\t\t\t\t<view>\r\n\t\t\t\t\t\t<view class=\"PB_2 MT_10\">\r\n\t\t\t\t\t\t\t<view class=\"font_weight_bold fontS_16\">价格区间(元)</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"flex_row_between PB_2 PR_4\">\r\n\t\t\t\t\t\t\t<input v-model=\"lowest_price\" @blur.prevent=\"changeCount()\" class=\"W_40 B_radius_n3 textC color_d9d9d9 B_1_f2f2f2\" type=\"number\" placeholder=\"输入最低价\">\r\n\t\t\t\t\t\t\t<view>——</view>\r\n\t\t\t\t\t\t\t<input v-model=\"top_price\" @blur.prevent=\"changeCount()\" class=\"W_40 B_radius_n3 textC color_d9d9d9 B_1_f2f2f2\" type=\"number\" placeholder=\"输入最高价\">\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view v-for=\"(item,index) in sizerList\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"flex_row_between MT_4 PB_2\">\r\n\t\t\t\t\t\t\t<view class=\"font_weight_bold fontS_16\">{{item.trait_cate_name}}</view>\r\n\t\t\t\t\t\t\t<view class=\"flex_rowL color_d9d9d9\"  @click=\"skuall(index,item.list_show,item.child_list.length)\">\r\n\t\t\t\t\t\t\t\t<!-- <view style=\"width:340rpx;\" class=\"text_overflow_1 textR\" v-if=\"item.child_list.length>6\">{{item.skuChange?item.skuChange:'全部'}}</view>\r\n\t\t\t\t\t\t\t\t<view style=\"width:340rpx;\" class=\"text_overflow_1 textR\" v-else>{{item.skuChange?item.skuChange:''}}</view> -->\r\n\t\t\t\t\t\t\t\t<view style=\"width:340rpx;\" class=\"text_overflow_1 textR\" >{{item.child_list.length>6?'全部':''}}</view>\r\n\t\t\t\t\t\t\t\t<view v-if=\"item.child_list.length>6\" class=\"iconfont PL_2\">{{item.list_show=='true'?'&#xe619;':'&#xe611;'}}</view>\r\n\t\t\t\t\t\t\t\t<view v-else class=\"iconfont PL_2 color_fff\">&#xe619;</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"D_flex color_d9d9d9\" style=\"flex-wrap: wrap;\">\r\n\r\n\t\t\t\t\t\t\t<view v-for=\"(items,idx) in item.child_list\" :key=\"idx\" v-if=\"item.child_list.length>6&&idx<6&&item.list_show=='true'\" class=\"MR_2 MB_2 relative\" style=\"width:28%;\">\r\n\t\t\t\t\t\t\t\t<view @click=\"sizerCha(index,idx,items.trait_name,items.show)\" :class=\"items.show == 'true'?'bg_f7dbf4 color_DA3B57 B_2_DA3B57':'B_2_f2f2f2'\" class=\"W_100 PTB_n2 flex_rowC B_radius_n3 box_sizingB\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"W_80 text_overflow_1 textC\">{{items.trait_name}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont color_DA3B57 absoluteBR\" v-if=\"items.show == 'true'\" style=\"bottom:0;right:0;\">&#xe638;</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t\t<view v-for=\"(items,idx) in item.child_list\" :key=\"idx\" v-if=\"item.list_show=='false'\" class=\"MR_2 MB_2 relative\" style=\"width:28%;\">\r\n\t\t\t\t\t\t\t\t<view @click=\"sizerCha(index,idx,items.trait_name,items.show)\" :class=\"items.show == 'true'?'bg_f7dbf4 color_DA3B57 B_2_DA3B57':'B_2_f2f2f2'\" class=\"W_100 PTB_n2 flex_rowC B_radius_n3 box_sizingB\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"W_80 text_overflow_1 textC\">{{items.trait_name}}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"iconfont color_DA3B57 absoluteBR\" v-if=\"items.show == 'true'\" style=\"bottom:0;right:0;\">&#xe638;</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\r\n\t\t\t\t\t\t\t<!-- <view v-if=\"item.child_list.length>6&&idx<6&&item.list_show=='true'\" v-for=\"(items,idx) in item.child_list\" :key=\"idx\" @click=\"sizerCha(index,idx,items.trait_name)\" :class=\"items.show == 'true'?'B_2_333':'B_2_f2f2f2'\" style=\"width:28%;\" class=\"PTB_n2 MR_2 MB_2 flex_rowC B_radius_n3\">\r\n\t\t\t\t\t\t\t\t<view class=\"W_80 text_overflow_1 textC\">{{items.trait_name}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view v-if=\"item.list_show=='false'\" v-for=\"(items,idx) in item.child_list\" :key=\"idx\" @click=\"sizerCha(index,idx,items.trait_name)\" :class=\"items.show == 'true'?'B_2_333':'B_2_f2f2f2'\" style=\"width:28%;\" class=\"PTB_n2 MR_2 MB_2 flex_rowC B_radius_n3\">\r\n\t\t\t\t\t\t\t\t<view class=\"W_80 text_overflow_1 textC\">{{items.trait_name}}</view>\r\n\t\t\t\t\t\t\t</view> -->\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"textC MT_10 color_d9d9d9\" v-if=\"sizerList.length == 0\">\r\n\t\t\t\t\t\t没有更多的分类了\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"H_15\"></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"fixed W_100 bg_fff\" style=\"bottom:0;\">\r\n\t\t\t\t\t<view class=\"flex_row_between PLR_2 MB_2 MT_2\">\r\n\t\t\t\t\t\t\t<view @click=\"sizerReset()\" class=\"PTB_2 B_1_f2f2f2 textC W_30\">重置</view>\r\n\t\t\t\t\t\t\t<view @click=\"sizerConfirm()\" class=\"PTB_2 bg_DA3B57 B_1_DA3B57 color_fff textC W_65\">确定</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\r\n\t\t</van-popup>\r\n\r\n\r\n\r\n\r\n\r\n\t</view>\r\n\t<!-- <view class=\"\" v-else> -->\r\n\t\t<!-- <van-skeleton title row=\"10\" /> -->\r\n\t<!-- </view> -->\r\n</template>\r\n\r\n<script>\r\n\timport headerTop from '../../components/headerTop/headerTop.vue';\r\n\timport api from '../../static/script/ajax.js';\r\n\timport {SearchbyImageGoodslist} from '../../static/script/const.js';\r\n\timport minix from '../../static/script/minix.js';\r\n\timport Toast from '../../wxcomponents/vant/dist/toast/toast.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabList:['综合','价格','佣金','销量'],\r\n\t\t\t\timg: '',\r\n\t\t\t\timage:'',\r\n\t\t\t\tpage:1,\r\n\t\t\t\tsorts:\"\",\r\n\t\t\t\tdataList:[],\r\n\t\t\t\tuser:{},\r\n\t\t\t\tshow:false,\r\n\t\t\t\tloadingShow:true,\r\n\t\t\t\tshowIcon1:true,\r\n\t\t\t\tshowIcon2:true,\r\n\t\t\t\tshowIcon3:true,\r\n\t\t\t\tshowIcon4:true,\r\n\t\t\t\tshowIcon5:true,\r\n\t\t\t\tshowIcon6:true,\r\n\r\n\t\t\t\tsizerShow: false,//筛选显示\r\n\t\t\t\tsizerShowPop:false, // 筛选弹窗显示\r\n\t\t\t\tsizerList : [],\r\n\t\t\t\tlowest_price :'', // 最低价\r\n\t\t\t\ttop_price :'' ,//  最高价\r\n\t\t\t\tsizerIds: '' ,//筛选IDs type == 1\r\n\t\t\t\ttraitIds:'', //筛选IDs type ==2\r\n\r\n\t\t\t\tfiltrate1Show:true, //综合颜色\r\n\t\t\t\tfiltrateIndex:0 , //价格 销量 颜色\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthis.user = uni.getStorageSync('userInfo');\r\n\t\t\t// 解析路由参数\r\n\t\t\tthis.img = this.$parseURL().file;\r\n\t\t\t// this.img = 'wxfile://tmp_3a1d2995f9a3da0f42351588c42f3f38f8b9dee9669bc870.jpg'\r\n\t\t\t// 预览图片\r\n\t\t\tuni.previewImage({\r\n\t\t\t\turls: this.img,\r\n\t\t\t\t// current: e.currentTarget.dataset.url\r\n\t\t\t});\r\n\t\t\tminix.imageToBase64(this.img,(ret)=>{\r\n\t\t\t\tthis.image = ret;\r\n\t\t\t\tif(ret){\r\n\t\t\t\t\tthis.getGoodslist();\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.show = false;\r\n\t\t},\r\n\t\tonReachBottom() {\r\n\t\t\tthis.getGoodslist('more');\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetGoodslist(type){\r\n\t\t\t\tuni.hideLoading();\r\n\t\t\t\tToast.loading({\r\n\t\t\t\t  message: '加载中...',\r\n\t\t\t\t  forbidClick: true,\r\n\t\t\t\t  duration:0\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet param;\r\n\t\t\t\tif(type == 'more'){\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t'page': ++that.page,\r\n\t\t\t\t\t\t'sort': that.sorts,\r\n\t\t\t\t\t\t'imgUrl': encodeURIComponent(that.image),\r\n\t\t\t\t\t\tselected_ids: this.sizerIds || ' ',\r\n\t\t\t\t\t\tattr_select_ids: this.traitIds || ' '\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparam = {\r\n\t\t\t\t\t\t'page': 1,\r\n\t\t\t\t\t\t'sort': that.sorts,\r\n\t\t\t\t\t\t'imgUrl': encodeURIComponent(that.image),\r\n\t\t\t\t\t\tselected_ids: this.sizerIds || ' ',\r\n\t\t\t\t\t\tattr_select_ids: this.traitIds || ' '\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tapi._post(SearchbyImageGoodslist,param,0).then((res)=>{\r\n\t\t\t\t\tif(res.code == 0){\r\n\t\t\t\t\t\t Toast.clear();\r\n\t\t\t\t\t\t this.loadingShow = false;\r\n\t\t\t\t\t\tif(type == 'more'){\r\n\t\t\t\t\t\t\tif(res.data.list.length > 0){\r\n\t\t\t\t\t\t\t\tthat.dataList = that.dataList.concat(res.data.list);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tToast('已经到最后了！');\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 刷选列表更新\r\n\t\t\t\t\t\t\t\tthis.sizerList = res.data.trait_list \r\n\t\t\t\t\t\t\t\t//设置选中sku展示名称\r\n\t\t\t\t\t\t\t\tthis.sizerList.forEach((item,index) => {\r\n\t\t\t\t\t\t\t\t\titem['child_list'].forEach((item,idx) => {\r\n\t\t\t\t\t\t\t\t\t\tif(item.show == 'true'){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.sizerList[index], 'skuChange', item.trait_name)\r\n\t\t\t\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.sizerList[index], 'skuChange', '')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.dataList = res.data.list;\r\n\t\t\t\t\t\t\tif(that.dataList.length < 1){\r\n\t\t\t\t\t\t\t\tthat.show = true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// 刷选列表更新\r\n\t\t\t\t\t\t\t\tthis.sizerList = res.data.trait_list \r\n\t\t\t\t\t\t\t\t//设置选中sku展示名称\r\n\t\t\t\t\t\t\t\tthis.sizerList.forEach((item,index) => {\r\n\t\t\t\t\t\t\t\t\titem['child_list'].forEach((item,idx) => {\r\n\t\t\t\t\t\t\t\t\t\tif(item.show == 'true'){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.sizerList[index], 'skuChange', item.trait_name)\r\n\t\t\t\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.sizerList[index], 'skuChange', '')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\tfiltrateGoods(index){\r\n\t\tif(index == 1){\r\n\t\t\tthis.sort1 = !this.sort1;\r\n\t\t\tif(!this.sort1){\r\n\t\t\t\tthis.sorts = 2;\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = false;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.sorts = 3;\r\n\t\t\t\tthis.showIcon1 = false;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t}\r\n\t\t} else if(index == 2){\r\n\t\t\tthis.sort2 = !this.sort2;\r\n\t\t\tif(!this.sort2){\r\n\t\t\t\tthis.sorts = 4;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = false;\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.sorts = 5;\r\n\t\t\t\tthis.showIcon3 = false;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t}\r\n\t\t} else if(index == 3){\r\n\t\t\tthis.sort3 = !this.sort3;\r\n\t\t\tif(!this.sort3){\r\n\t\t\t\tthis.sorts = 6;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = false;\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t} else {\r\n\t\t\t\tthis.sorts = 7;\r\n\t\t\t\tthis.showIcon5 = false;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t}\r\n\t\t} \r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.getGoodslist();\r\n\t\t\t},\r\n\t\t\tfiltrateDef(){\r\n\t\t\t\tthis.showIcon1 = true;\r\n\t\t\t\tthis.showIcon2 = true;\r\n\t\t\t\tthis.showIcon3 = true;\r\n\t\t\t\tthis.showIcon4 = true;\r\n\t\t\t\tthis.showIcon5 = true;\r\n\t\t\t\tthis.showIcon6 = true;\r\n\t\t\t\tthis.page = 1;\r\n\t\t\t\tthis.sorts = 1;\r\n\t\t\t\tthis.getGoodslist();\r\n\t\t\t},\r\n\t\t\tclearNum(num){\r\n\t\t\t\treturn Number(num).toFixed(0);\r\n\t\t\t},\r\n\r\n\r\n\r\n\r\n\r\n\t\t// 价格区间 失去焦点触发\r\n\t\t\tchangeCount(){\r\n\t\t\t\tconsole.log(\"失去\")\r\n\t\t\t\tif(this.top_price && this.lowest_price){\r\n\t\t\t\t\tthis.sizerShow = true;\r\n\t\t\t\t\tthis.getGoodslist()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 关闭筛选\r\n\t\t\tcloseSizer(){\r\n\t\t\t\tthis.sizerShowPop = false;\r\n\t\t\t},\r\n\t\t\t// 打开筛选\r\n\t\t\tsizer(){\r\n\t\t\t\tthis.sizerShowPop = true;\r\n\t\t\t},\r\n\t\t\t// sku全部\r\n\t\t\tskuall(num1,show,length){\r\n\t\t\t\tif(length>6 && show == \"true\"){\r\n\t\t\t\t\tconsole.warn(show)\r\n\t\t\t\t\tthis.$set(this.sizerList[num1], 'list_show', 'false')\r\n\t\t\t\t} else if(length>6 && show == \"false\"){\r\n\t\t\t\t\tthis.$set(this.sizerList[num1], 'list_show', 'true')\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 筛选sku 选中\r\n\t\t\tsizerCha(num1,num2,name,show){\r\n\t\t\t\tthis.sizerShow = true;\r\n\t\t\t\t// 设置选中sku边框\r\n\t\t\t\tif(show == 'false'){\r\n\t\t\t\t\tthis.$set(this.sizerList[num1]['child_list'][num2], 'show', 'true')\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$set(this.sizerList[num1]['child_list'][num2], 'show', 'false')\r\n\t\t\t\t}\r\n\t\t\t\t// 设置选中sku展示名称\r\n\t\t\t\tthis.$set(this.sizerList[num1], 'skuChange', name)\r\n\t\t\t\t// 设置非选中sku边框\r\n\t\t\t\t\r\n\t\t\t\t// this.sizerList[num1]['child_list'].forEach((item,index)=>{\r\n\t\t\t\t// \tif(num2!=index){\r\n\t\t\t\t// \t\tthis.$set(this.sizerList[num1]['child_list'][index], 'show', 'false')\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\r\n\t\t\t\tthis.sizerForList()\r\n\t\t\t},\r\n\t\t\t// 选择 数据请求\r\n\t\t\tsizerForList(){\r\n\t\t\t\tlet  xx = ''\r\n\t\t\t\tlet  ss = ''\r\n\t\t\t\tthis.sizerList.forEach((item,index) => {\r\n\t\t\t\t\titem['child_list'].forEach((item,idx) => {\r\n\t\t\t\t\t\tif(item.show == 'true' && item.type == 1){\r\n\t\t\t\t\t\t\txx = xx + item.trait_id + ','\r\n\t\t\t\t\t\t} else if(item.show == 'true' && item.type == 2){\r\n\t\t\t\t\t\t\tss = ss + item.trait_id + ','\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tlet ll = xx.length -1\r\n\t\t\t\txx = xx.slice(0,ll)\r\n\r\n\t\t\t\tss = ss.slice(0,ss.length -1)\r\n\t\t\t\tconsole.log(xx)\r\n\t\t\t\tconsole.log(ss)\r\n\r\n\t\t\t\tthis.sizerIds = xx\r\n\t\t\t\tthis.traitIds = ss\r\n\t\t\t\t// 刷新数据\r\n\t\t\t\tthis.getCategood()\r\n\t\t\t},\r\n\t\t\t// 筛选 确认\r\n\t\t\tsizerConfirm(){\r\n\t\t\t\tthis.getGoodslist()\r\n\t\t\t\tthis.sizerShowPop = false\r\n\t\t\t},\r\n\t\t\t// 筛选\t重置\r\n\t\t\tsizerReset(){\r\n\t\t\t\tthis.lowest_price = '';\r\n\t\t\t\tthis.top_price = '';\r\n\t\t\t\tthis.sizerIds = '';\r\n\t\t\t\tthis.traitIds = ''\r\n\t\t\t\tthis.sizerShow = false;\r\n\t\t\t\tthis.getGoodslist()\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\n\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\theaderTop,\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>\r\n"],"sourceRoot":""}